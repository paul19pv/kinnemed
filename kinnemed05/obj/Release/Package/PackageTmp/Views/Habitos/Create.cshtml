@model kinnemed05.Models.habitos

@{
    ViewBag.Title = "Create";
}
<script>
    $(function () {
        $('.form-group select').addClass('form-control');

        $("#hab_fuma").change(function () {
            if ($(this).val()=="SI") {
                $("#div_fuma").show();
            } else {
                $("#div_fuma").hide();
            }
        });
        $("#hab_alcohol").change(function () {
            if ($(this).val() == "SI") {
                $("#div_alcohol").show();
            } else {
                $("#div_alcohol").hide();
            }
        });
    });
</script>

@using (Ajax.BeginForm("Create", new AjaxOptions { UpdateTargetId = "div_form", LoadingElementId = "div_loading", LoadingElementDuration = 100, OnFailure = "error" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Hábitos</h3>
            </div>
            <div class="panel-body">
                @Html.HiddenFor(model => model.hab_id, new { Value = ViewBag.hab_id })
                <div class="col-lg-4">
                    <div class="form-group">
                        @Html.LabelFor(model => model.hab_fumo)
                        @Html.DropDownList("hab_fumo", String.Empty)
                        @Html.ValidationMessageFor(model => model.hab_fumo)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.hab_fuma)
                        @Html.DropDownList("hab_fuma", String.Empty)
                        @Html.ValidationMessageFor(model => model.hab_fuma)
                    </div>
                    <div id="div_fuma" class="form-group" style="display:none;">
                        @Html.LabelFor(model => model.hab_cigarillos)
                        @Html.TextBoxFor(model => model.hab_cigarillos, new { @class = "form-control"})
                        @Html.ValidationMessageFor(model => model.hab_cigarillos)
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        @Html.LabelFor(model => model.hab_alcohol)
                        @Html.DropDownList("hab_alcohol", String.Empty)
                        @Html.ValidationMessageFor(model => model.hab_alcohol)
                    </div>
                    <div id="div_alcohol" class="form-group" style="display:none;">
                        @Html.LabelFor(model => model.hab_frecuencia)
                        @Html.TextBoxFor(model => model.hab_frecuencia, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.hab_frecuencia)
                    </div>

                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        @Html.LabelFor(model => model.hab_drogas)
                        @Html.DropDownList("hab_drogas", String.Empty)
                        @Html.ValidationMessageFor(model => model.hab_drogas)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.hab_ejercicio)
                        @Html.DropDownList("hab_ejercicio", String.Empty)
                        @Html.ValidationMessageFor(model => model.hab_ejercicio)
                    </div>
                </div>
            </div>
        </div>  
    </div>

    <div class="col-lg-3" style="clear:both; float:right">
        <div class="form-group" style="float:right">
            @Ajax.ActionLink("Anterior", "Edit", "Ginecologico", new { id = ViewBag.hab_id }, new AjaxOptions { UpdateTargetId = "div_form", LoadingElementId = "div_loading", LoadingElementDuration = 100, OnFailure = "error" }, new { @class = "btn btn-default" })
            <input type="submit" value="Siguiente" class="btn btn-primary" />

        </div>
    </div>
}


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
